Let’s kick off “Foundational cleanup” by firming up the exact scope and sequence. Here’s how I’d tackle it:

focus areas
Account source of truth

Centralize account CRUD/Test logic in a dedicated hook/service (e.g., useAccountsStore) so UI layers stay thin.
Normalize account records (common type for saved + connected) and ensure we persist provider metadata consistently.
Connection wizard refactor

Extract step components, add provider-specific copy, and introduce a verification step with clear success/failure states.
Make saved-account reuse a first-class branch in the flow (import existing credentials, retry with password, etc.).
Account management view (new)

Build a single screen listing accounts with status badges, last sync, quick actions (Connect/Test/Sync/Remove).
Integrate the new hook/service, and allow multi-action selection (e.g., remove multiple later).
Notification + error handling baseline

Replace scattered setInfo/setError usage with a centralized toast/snackbar manager.
Standardize error payloads coming from Tauri commands (map to user-friendly messages).
implementation milestones
Data & services (Sprint 1)

Create shared account store/hook.
Update Tauri commands to return rich status objects (test connection, list accounts, etc.).
Adjust front-end consumers (wizard, sidebar) to use the new store.
UI scaffolding (Sprint 2)

Implement Account Management view (cards/table + detail panel).
Refactor connection wizard into modular steps; add verification step.
Introduce global notification system.
Workflow polish (Sprint 3)

Wire saved account quick-launch to new store.
Update navigation/sidebar to include “Accounts” route and improved empty states.
Add inline test/sync actions and progress indicators.


---


Reviewed our “Foundational cleanup” checklist and mapped the remaining work into a concrete follow-up plan.

where we stand
Account source of truth – Partial. We created services/accounts.ts and use it in App.tsx, but state still lives in component-level hooks; no shared store/hook yet, and Tauri commands still return the older payload shapes.
Connection wizard refactor – Not started. Wizard is still the original monolith without provider-specific copy, modular steps, or a verification stage.
Account management view – Partial. The new AccountsView renders connected/saved cards and is wired into navigation, but it lacks status indicators (last sync, badges), multi-select, and integration with a centralized store.
Notification & error baseline – Not started. Info/error handling still uses local setInfo/setError calls instead of a unified toast/snackbar system.
milestone snapshot
Data & services (Sprint 1) – Shared store/hook and richer Tauri status responses remain outstanding; only the surface-level service helpers are in place.
UI scaffolding (Sprint 2) – Accounts screen exists in basic form, but the wizard refactor and global notifications haven’t begun.
Workflow polish (Sprint 3) – Navigation now exposes the Accounts route and empty-state routing is better, but saved-account quick launch still talks directly to services, and inline test/sync progress indicators are missing.
next steps
Implement the shared account store (useAccountsStore or similar):

Collapse account state management from App.tsx into the store.
Expose selectors/actions for connected accounts, saved accounts, connect/disconnect/test, and sync metadata.
Update Tauri commands to return structured status objects and have the store normalize them.
Refactor the connection wizard:

Break the wizard into step components, adding copy per provider.
Add the verification step with explicit success/failure states and wire it through the store so saved-account reuse becomes a first-class path.
Enrich the accounts management view:

Read data from the new store and surface last-sync time, status badges, and pending action indicators.
Prepare for multi-select (even if initial UI just supports single actions) and hook in the test/connect/remove flows from the store.
Introduce centralized notifications:

Build a lightweight toast/snackbar manager (context or store slice) that can queue success/error/info messages.
Replace all setInfo/setError calls with dispatches to the manager, and map Tauri errors to user-friendly messages.
Workflow polish follow-ups:

Move saved-account quick launch to the store so reconnect logic lives in one place.
Add inline progress for test/connect actions (e.g., spinners or status text on the account cards).
Once the above is stable, circle back to multi-account actions and any remaining sidebar enhancements (version, environment badges, etc.).